<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="1200" height="800" fill="#ffffff"/>
    
    <!-- Title with hand-drawn style -->
    <g transform="translate(400, 50)">
        <rect x="0" y="0" width="400" height="50" rx="10" fill="#f8f9fa" stroke="#000000" stroke-width="2" style="filter: url(#hand-drawn)"/>
        <text x="200" y="35" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold">Boundary CLI Tool Flow</text>
    </g>

    <!-- User Section -->
    <g transform="translate(100, 150)">
        <circle cx="50" cy="50" r="40" fill="#4a90e2" stroke="#2c3e50" stroke-width="2"/>
        <text x="50" y="120" text-anchor="middle" font-family="Arial" font-size="16">User</text>
    </g>

    <!-- Config File -->
    <g transform="translate(250, 170)">
        <rect width="120" height="60" rx="5" fill="#f1c40f" stroke="#2c3e50" stroke-width="2"/>
        <text x="60" y="35" text-anchor="middle" font-family="Arial" font-size="14">.env File</text>
    </g>

    <!-- CLI Tool Box -->
    <g transform="translate(450, 150)">
        <rect width="400" height="200" rx="10" fill="#2ecc71" stroke="#2c3e50" stroke-width="2"/>
        <text x="200" y="40" text-anchor="middle" font-family="Arial" font-size="18" fill="white">Boundary CLI Tool</text>
        
        <!-- Internal Components -->
        <g transform="translate(20, 60)">
            <rect width="160" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="80" y="25" text-anchor="middle" font-size="12">Config Validator</text>
        </g>
        
        <g transform="translate(220, 60)">
            <rect width="160" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="80" y="25" text-anchor="middle" font-size="12">Authentication Manager</text>
        </g>
        
        <g transform="translate(20, 120)">
            <rect width="160" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="80" y="25" text-anchor="middle" font-size="12">Resource Navigator</text>
        </g>
        
        <g transform="translate(220, 120)">
            <rect width="160" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="80" y="25" text-anchor="middle" font-size="12">Connection Handler</text>
        </g>
    </g>

    <!-- Boundary Server -->
    <g transform="translate(900, 150)">
        <rect width="200" height="200" rx="10" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/>
        <text x="100" y="40" text-anchor="middle" font-family="Arial" font-size="18" fill="white">Boundary Server</text>
        
        <g transform="translate(20, 60)">
            <rect width="160" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="80" y="25" text-anchor="middle" font-size="12">Auth Service</text>
        </g>
        
        <g transform="translate(20, 120)">
            <rect width="160" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="80" y="25" text-anchor="middle" font-size="12">Resource Manager</text>
        </g>
    </g>

    <!-- Flow Steps -->
    <g transform="translate(100, 400)">
        <!-- Step 1 -->
        <g transform="translate(0, 0)">
            <rect width="200" height="60" rx="5" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2"/>
            <text x="100" y="35" text-anchor="middle" font-size="14">1. Load Configuration</text>
        </g>
        
        <!-- Step 2 -->
        <g transform="translate(250, 0)">
            <rect width="200" height="60" rx="5" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2"/>
            <text x="100" y="35" text-anchor="middle" font-size="14">2. Authenticate</text>
        </g>
        
        <!-- Step 3 -->
        <g transform="translate(500, 0)">
            <rect width="200" height="60" rx="5" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2"/>
            <text x="100" y="35" text-anchor="middle" font-size="14">3. List Resources</text>
        </g>
        
        <!-- Step 4 -->
        <g transform="translate(750, 0)">
            <rect width="200" height="60" rx="5" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2"/>
            <text x="100" y="35" text-anchor="middle" font-size="14">4. Connect to Target</text>
        </g>
    </g>

    <!-- Interactive Flow -->
    <g transform="translate(100, 500)">
        <rect width="1000" height="200" rx="10" fill="#f8f9fa" stroke="#2c3e50" stroke-width="2"/>
        <text x="500" y="40" text-anchor="middle" font-size="18">Interactive Selection Flow</text>
        
        <!-- Selection Steps -->
        <g transform="translate(50, 70)">
            <rect width="200" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="100" y="25" text-anchor="middle" font-size="12">Select Organization</text>
        </g>
        
        <g transform="translate(300, 70)">
            <rect width="200" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="100" y="25" text-anchor="middle" font-size="12">Select Project</text>
        </g>
        
        <g transform="translate(550, 70)">
            <rect width="200" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="100" y="25" text-anchor="middle" font-size="12">Select Target</text>
        </g>
        
        <g transform="translate(800, 70)">
            <rect width="150" height="40" rx="5" fill="white" stroke="#2c3e50" stroke-width="1"/>
            <text x="75" y="25" text-anchor="middle" font-size="12">Connect</text>
        </g>
    </g>

    <!-- Arrows -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
        </marker>
    </defs>

    <!-- Add connection arrows -->
    <g stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)">
        <!-- Main flow arrows - Fixed lengths -->
        <path d="M190 200 L250 200"/> <!-- User to .env -->
        <path d="M370 200 L450 200"/> <!-- .env to CLI Tool -->
        <path d="M850 250 L900 250"/> <!-- CLI Tool to Boundary Server -->
        
        <!-- Step arrows -->
        <path d="M300 430 L350 430"/>
        <path d="M550 430 L600 430"/>
        <path d="M800 430 L850 430"/>
        
        <!-- Interactive flow arrows -->
        <path d="M350 600 L400 600"/>
        <path d="M600 600 L650 600"/>
        <path d="M850 600 L900 600"/>
    </g>

    <!-- Hand-drawn effect filter -->
    <defs>
        <filter id="hand-drawn" x="-20%" y="-20%" width="140%" height="140%">
            <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="3" result="noise"/>
            <feDisplacementMap in="SourceGraphic" in2="noise" scale="2"/>
        </filter>
    </defs>
</svg>